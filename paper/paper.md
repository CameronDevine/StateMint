---
title: 'Statum: An Application for Determining Symbolic Dynamic System Models using Linear Graph Methods'
tags:
  - system dynamics
  - calculator
  - symbolic math
  - computer algebra system
authors:
  - name: Cameron Devine
    orcid: 0000-0002-6579-111X
    affiliation: 1
  - name: Joseph L. Garbini
    affiliation: 1
  - name: Rico A. R. Picone
    orcid: 0000-0002-5091-5175
    affiliation: "2, 1"
affiliations:
  - name: University of Washington, Department of Mechanical Engineering
    index: 1
  - name: Saint Martin's University, Department of Mechanical Engineering
    index: 2
date: 26 September 2018
bibliography: paper.bib
---

# Summary

When determining the differential equation of a dynamic system using linear graph methods finding the elemental and constraint equations is the first step.
The next step is to algebraically eliminate those variables that are not state or input variables from the equations until a minimal set of differential equations remains.
This is where students most often make mistakes.
When learning system dynamics, students work many problems as a part of their coursework.
A reoccuring mistake can greatly effect a students percieved skill in this subject area.
However, this algebra is not a necessary component of a strong understanding of system dynamics.

To aid students in their learning process a program was written to symbolically determine the differential equations using the elemental and constraint equations as input.
This program allows students to focus on the process of creating a dynamic system model without worrying about algebraic mistakes.
This frees the student to work on the aspects of system dynamics which are new and unique.

Because symbolic math libraries already exist, writing this software is a relatively trivial task.
This was originally done in Mathematica because of its advanced symbolic math capabilities.
However, this required students to purchase and install Mathematica.
Because of the size and cost of Mathematica a more economical solution was desired.
To solve this problem the Python programming language along with SymPy [@meurer2017], a symbolic math library, was used to recreate the software.
This provides the same functionality without the cost barrier and with a smaller installed size.
The Python implementation also allows this code to be run as an Amazon AWS Lambda function.
With the Lambda function, a website can be designed to allow this software to be used by any device with an internet connection and web browser.

# Mathematica Package

The Mathematica package `StateMint` can be installed via the [documentation](). The central function of the package is `stateEquations`, which uses an algorithm similar to that of the Python package, above, to derive the state equations. It takes as arguments lists of elemental equations, constraint equations, primary variables, and input variables and returns the vector state equation, state variables, and the time-derivative of the state variables.

The `outputEquations` function derives the output equations given output expressions in terms of primary and secondary variables (including inputs). The function accepts lists of input variables, state variables, elemental and constraint equations, and output expressions.

The functions `stateEquations` and `outputEquations` yield what are in general *nonlinear* state and output equations. Linear state and output equations are typically written in a standard vector form described by matrices `A`, `B`, `C`, and `D` (and sometimes `E` and `F`). The `linearizeState` function accepts lists of input variables, state variables, and the time-derivatives of the state vector (from `stateEquations`) and returns the `A`, `B`, and `E` matrices. Similarly, `linearizeOutput` returns the `C`, `D`, and `F` matrices.

A tutorial on how to use this package is included.

# Python Package

The Python package for performing the same task uses similar logic to the second method of the Mathematica package, again in the form defined by Rowell and Wormley [@rowell1997].
This function returns an object which includes the resulting system as a state space model, a transfer function, and an equation.
Helper functions are included to convert the symbolic matrices to Numpy [@oliphant2015] objects.
This code is documented using [readthedocs.io](https://statum.readthedocs.io/en/latest/) and works for both linear and nonlinear systems.

# Web Interface

To allow those without programming experience to use this code a web interface was designed and [implemented](http://statum.camerondevine.me/).
This interface has text boxes for equation input, and displays results as rendered math or code which can be copied into \LaTeX, Matlab, Python, or Mathematica.
Examples and documentation are built in to make learning how to use the interface as painless as possible.
There is also the ability to share, download, and save the system models for later use or modification.
This interface is designed to run on Amazon AWS serverless resources to simplify upkeep and keep costs low.
An automated installer is also included.

# Acknowledgments

The authors would like to acknowledge the work of [Gavin Basuel](https://www.gavinbasuel.com/) who designed the user experience for the web interface and helped with HTML/CSS development.

# References

<!--stackedit_data:
eyJkaXNjdXNzaW9ucyI6eyJTUjhYckl2em11VWpGY1paIjp7In
N0YXJ0Ijo2NjIsImVuZCI6ODE3LCJ0ZXh0IjoiV2hlbiBkZXRl
cm1pbmluZyB0aGUgZGlmZmVyZW50aWFsIGVxdWF0aW9uIG9mIG
EgZHluYW1pYyBzeXN0ZW0gdXNpbmcgbGluZWFyIGdyYeKApiJ9
LCJleVB3U3hGS1pTN3ViaWxuIjp7InN0YXJ0IjoxMDM5LCJlbm
QiOjEyMTcsInRleHQiOiJXaGVuIGxlYXJuaW5nIHN5c3RlbSBk
eW5hbWljcywgc3R1ZGVudHMgd29yayBtYW55IHByb2JsZW1zIG
FzIGEgcGFydCBvZiB0aGVpciBj4oCmIn0sIkJhcEpWbXc2RFVX
NEpNZVMiOnsic3RhcnQiOjEyMTgsImVuZCI6MTMxNCwidGV4dC
I6Ikhvd2V2ZXIsIHRoaXMgYWxnZWJyYSBpcyBub3QgYSBuZWNl
c3NhcnkgY29tcG9uZW50IG9mIGEgc3Ryb25nIHVuZGVyc3Rhbm
Rpbmcgb2bigKYifSwia0l0TDFRVkJISXlrbVRCdCI6eyJzdGFy
dCI6MTMxNiwiZW5kIjoxNDg3LCJ0ZXh0IjoiVG8gYWlkIHN0dW
RlbnRzIGluIHRoZWlyIGxlYXJuaW5nIHByb2Nlc3MgYSBwcm9n
cmFtIHdhcyB3cml0dGVuIHRvIHN5bWJvbGljYWxseeKApiJ9LC
JTbmg2bWwzYnhGa0dQTW1mIjp7InN0YXJ0IjoxNjE5LCJlbmQi
OjE3MDksInRleHQiOiJUaGlzIGZyZWVzIHRoZSBzdHVkZW50IH
RvIHdvcmsgb24gdGhlIGFzcGVjdHMgb2Ygc3lzdGVtIGR5bmFt
aWNzIHdoaWNoIGFyZSBuZXfigKYifSwiSDVBV2V4YUM4emxYYj
IxTyI6eyJzdGFydCI6MTcxMSwiZW5kIjoxODA5LCJ0ZXh0Ijoi
QmVjYXVzZSBzeW1ib2xpYyBtYXRoIGxpYnJhcmllcyBhbHJlYW
R5IGV4aXN0LCB3cml0aW5nIHRoaXMgc29mdHdhcmUgaXMgYSBy
ZWxhdOKApiJ9LCJ3RUc2Vnc4a1F3WnBoVzYzIjp7InN0YXJ0Ij
oxODMwLCJlbmQiOjE4MzQsInRleHQiOiJkb25lIn0sIlF3TER2
M0gzQk1QTFVMNTAiOnsic3RhcnQiOjE5MTYsImVuZCI6MTkyNC
widGV4dCI6InJlcXVpcmVkIn0sInBSS1Rpbm9LZ3NXN1Z0Mkgi
Onsic3RhcnQiOjE5ODYsImVuZCI6MTk5OSwidGV4dCI6InNpem
UgYW5kIGNvc3QifSwicngyTHVtZGNLVkVpMmZVSyI6eyJzdGFy
dCI6MjE3MCwiZW5kIjoyMTc0LCJ0ZXh0IjoidXNlZCJ9LCI2ZW
kyTVJOeTBzbWl4WGd1Ijp7InN0YXJ0IjoyNDI2LCJlbmQiOjI0
MzIsInRleHQiOiJjYW4gYmUifSwiOFZHbDlDWXJqWFBOZTRHNC
I6eyJzdGFydCI6MjUyMiwiZW5kIjoyNTM0LCJ0ZXh0Ijoid2Vi
IGJyb3dzZXIuIn0sIlNDbm5wMlRjQVo2ZWRJVEMiOnsic3Rhcn
QiOjI1MzYsImVuZCI6MjU1NywidGV4dCI6IiMgTWF0aGVtYXRp
Y2EgUGFja2FnZSJ9LCJ6ZW1ta2hVTlFwdk5BQmtaIjp7InN0YX
J0IjozODY5LCJlbmQiOjM4NzcsInRleHQiOiJpbmNsdWRlZCJ9
LCJFVVJPRjRhRjdCQjd0OERKIjp7InN0YXJ0IjoyNjIwLCJlbm
QiOjI2MzcsInRleHQiOiJbZG9jdW1lbnRhdGlvbl0oKSJ9fSwi
Y29tbWVudHMiOnsiUnlMamsycUxjcjhEczhKZCI6eyJkaXNjdX
NzaW9uSWQiOiJTUjhYckl2em11VWpGY1paIiwic3ViIjoiZ286
MTAyOTA1NDM1NTMwODk2NDc0ODAwIiwidGV4dCI6IkknbSBhIG
JpZyBiZWxpZXZlciB0aGF0IHlvdXIgZmlyc3Qgc2VudGVuY2Ug
c2hvdWxkIHRyeSB0byBjb252ZXkgdGhlIG1haW4gcG9pbnQgb2
YgeW91ciBwYXBlci4gVGhpcyBpcyBtb3JlIG9mIGFuIFwiaW50
cm9kdWN0aW9uXCIgc2VjdGlvbiBzZW50ZW5jZSwgYXMgYXJlIH
Rob3NlIHRoYXQgZm9sbG93IGl0LiBQZXJoYXBzIHRoaXMgKmlz
KiBlZmZlY3RpdmVseSB0aGUgaW50cm9kdWN0aW9uIGFuZCB0aG
VyZSdzIGEgc2VwYXJhdGUgYWJzdHJhY3QgLi4uIGlmIHNvLCB0
aGF0J3MgZmluZS4iLCJjcmVhdGVkIjoxNTQzNzE5MTAyODMwfS
wiemRod2NNWmllRFdySXBrQyI6eyJkaXNjdXNzaW9uSWQiOiJT
UjhYckl2em11VWpGY1paIiwic3ViIjoiZ286MTAyOTA1NDM1NT
MwODk2NDc0ODAwIiwidGV4dCI6IkknbSBnb2luZyB0byBjb250
aW51ZSBjb21tZW50aW5nIGFzIGlmIHRoaXMgdGV4dCBpcyBwcm
VjZWRlZCBieSBhbiBhYnN0cmFjdCBvZiBzb21lIHNvcnQuIiwi
Y3JlYXRlZCI6MTU0MzcxOTIwMTgwOH0sInViZHFOaFdTbXRHVW
tTV2UiOnsiZGlzY3Vzc2lvbklkIjoiZXlQd1N4RktaUzd1Ymls
biIsInN1YiI6ImdvOjEwMjkwNTQzNTUzMDg5NjQ3NDgwMCIsIn
RleHQiOiJJIHRoaW5rIGFkZGluZyBhIHBocmFzZSB0byB0aGUg
cHJlY2VkaW5nIHNlbnRlbmNlIGNvdWxkIGNhcHR1cmUgd2hhdC
B5b3UncmUgdHJ5aW5nIHRvIHNheSwgaGVyZS4gU29tZXRoaW5n
IGxpa2UgXCIuLi4gbWFrZSBtaXN0YWtlcywgd2hpY2ggbGVhZC
B0byBmcnVzdHJhdGlvbiBhbmQgZGlzY291cmFnZW1lbnQgd2hl
biBtYW51YWxseSByZWR1Y2luZyB0aGUgc3lzdGVtIG9mIGVxdW
F0aW9ucy5cIiIsImNyZWF0ZWQiOjE1NDM3MTk2MTA2ODd9LCI0
NFdCZTRrWEVBRktvSFFLIjp7ImRpc2N1c3Npb25JZCI6IkJhcE
pWbXc2RFVXNEpNZVMiLCJzdWIiOiJnbzoxMDI5MDU0MzU1MzA4
OTY0NzQ4MDAiLCJ0ZXh0IjoiQWx3YXlzIHRyeSB0byBzaGVkIH
dvcmRzLCB3aGVuIHBvc3NpYmxlLiBBbHNvIHRyeSBwYWNraW5n
IGluIGFzIG11Y2ggc3BlY2lmaWNpdHkuIEhlcmUgeW91IGNvdW
xkIHNheSBcIkhvd2V2ZXIsIGZsYXdsZXNzIG1hbnVhbCBhbGdl
YnJhIGlzIG5vdCByZXF1aXJlZCB0byB1bmRlcnN0YW5kIHN5c3
RlbSBkeW5hbWljcy5cIiIsImNyZWF0ZWQiOjE1NDM3MTk4NzAx
MjJ9LCJhNkRJZlFoTnppbTAweTBuIjp7ImRpc2N1c3Npb25JZC
I6IkJhcEpWbXc2RFVXNEpNZVMiLCJzdWIiOiJnbzoxMDI5MDU0
MzU1MzA4OTY0NzQ4MDAiLCJ0ZXh0IjoiSSB3b3VsZCBhZGQgc2
9tZXRoaW5nIGxpa2UgXCJNb3Jlb3ZlciwgdGhlIGFsZ2VicmEg
Y2FuIGJlIGF1dG9tYXRlZCwgYSBmZXcgdG9vbHMgZm9yIHdoaW
NoIHdlIHByZXNlbnQsIGhlcmUuIiwiY3JlYXRlZCI6MTU0Mzcx
OTk3MjMwOX0sIjRCcmNOanNEbHhTYkxsTTYiOnsiZGlzY3Vzc2
lvbklkIjoia0l0TDFRVkJISXlrbVRCdCIsInN1YiI6ImdvOjEw
MjkwNTQzNTUzMDg5NjQ3NDgwMCIsInRleHQiOiJXZSBjYW4gbm
93IGJlIG1vcmUgc3BlY2lmaWMsIGhlcmUuIFdlIGhhdmUgYWxy
ZWFkeSBpbnRyb2R1Y2VkIHRoZSBlcXVhdGlvbnMgYW5kIHRoZS
B0YXNrIG9mIGF1dG9tYXRpb24uIiwiY3JlYXRlZCI6MTU0Mzcy
MDA2MzY5Mn0sInNveUhHd2ZCcWR6NVU4WDUiOnsiZGlzY3Vzc2
lvbklkIjoiU25oNm1sM2J4RmtHUE1tZiIsInN1YiI6ImdvOjEw
MjkwNTQzNTUzMDg5NjQ3NDgwMCIsInRleHQiOiJJIHRoaW5rIH
lvdSBjb3VsZCByZXBocmFzZSB0aGlzIHRvIGJlIG1vcmUgY2xl
YXIgdGhhdCB0aGUgXCJuZXdcIiBhbmQgXCJ1bmlxdWVcIiBhc3
BlY3RzIGFyZSBzbyB0byB0aGUgc3R1ZGVudHMsIG5vdCBzeXN0
ZW0gZHluYW1pY3MuIiwiY3JlYXRlZCI6MTU0MzcyMDE0MDQxMH
0sIkpybWRDcXJJSFBXNm5RY1UiOnsiZGlzY3Vzc2lvbklkIjoi
SDVBV2V4YUM4emxYYjIxTyIsInN1YiI6ImdvOjEwMjkwNTQzNT
UzMDg5NjQ3NDgwMCIsInRleHQiOiJDb25zaWRlciBnZXR0aW5n
IHJpZCBvZiB0aGUgZXhpc3RlbmNlIHN0YXRlbWVudCBhbmQgaW
5zdGVhZCBmb2N1cyBvbiB0aGUgZmFjdCB0aGF0IHdlICphcHBs
aWVkIGV4aXN0aW5nKiBzeW1ib2xpYyBtYXRoIGxpYnJhcmllcy
4gQWxzbyBjb25zaWRlciBjYWxsaW5nIGl0IFwibWF0aGVtYXRp
Y3NcIiBiZWNhdXNlIHdlJ3JlIGZhbmN5IiwiY3JlYXRlZCI6MT
U0MzcyMDI3NTY1OX0sIko2RzZvODRjSHRXQTV0WlAiOnsiZGlz
Y3Vzc2lvbklkIjoid0VHNlZ3OGtRd1pwaFc2MyIsInN1YiI6Im
dvOjEwMjkwNTQzNTUzMDg5NjQ3NDgwMCIsInRleHQiOiJDb25z
aWRlciByZXBocmFzaW5nIHRvIGF2b2lkIFwiZG9uZVwiIiwiY3
JlYXRlZCI6MTU0MzcyMDMwNDkzMX0sInR3WmZ5RnhIVms0ZnZp
bUQiOnsiZGlzY3Vzc2lvbklkIjoiUXdMRHYzSDNCTVBMVUw1MC
IsInN1YiI6ImdvOjEwMjkwNTQzNTUzMDg5NjQ3NDgwMCIsInRl
eHQiOiJJIHRoaW5rIHByZXNlbnQgdGVuc2UgaXMgYmV0dGVyIH
NpbmNlIHdlJ3JlIHN0aWxsIHJlbGVhc2luZyBhIE1NQSBwYWNr
YWdlIiwiY3JlYXRlZCI6MTU0MzcyMDMzMzU0OH0sImtuWklSeW
w3UnJFWFVUMzYiOnsiZGlzY3Vzc2lvbklkIjoicFJLVGlub0tn
c1c3VnQySCIsInN1YiI6ImdvOjEwMjkwNTQzNTUzMDg5NjQ3ND
gwMCIsInRleHQiOiJJIHRoaW5rIHBlcmhhcHMgdGhlIG1vc3Qg
aW1wb3J0YW50IGFzcGVjdCBpcyB0aGF0IGl0IHJlcXVpcmVzIH
N0dWRlbnRzIHRvIGxlYXJuIGEgbmV3IHNvZnR3YXJlIHN5c3Rl
bSAuLi4gd2hpY2ggbW9yZSB0aGFuIG91dHdlaWdocyB0aGUgYW
R2YW50YWdlcyBmb3IgbW9zdCBvZiB0aGUgc3R1ZGVudHMgLi4u
IHlvdXIgd2ViIGFwcCBsZXRzIHRoZW0gZ2V0IHN0YXJ0ZWQgd2
l0aG91dCBsZWFybmluZyBNTUEiLCJjcmVhdGVkIjoxNTQzNzIw
NDQ1Njc4fSwiNG94clJzaEZJaWNNMkVPTyI6eyJkaXNjdXNzaW
9uSWQiOiJyeDJMdW1kY0tWRWkyZlVLIiwic3ViIjoiZ286MTAy
OTA1NDM1NTMwODk2NDc0ODAwIiwidGV4dCI6Ikl0J3MgYmVzdC
B0byBhdm9pZCBcInVzZWRcIiAuLi4gYW5kIGV2ZW4gYmV0dGVy
IHRvIGF2b2lkIHRoZSBwaHJhc2luZyB0aGF0IGxlYWQgdG8gaX
QuIEUuZy4gdGhpcyBzZW50ZW5jZSBjb3VsZCBiZSBcIkZvciB0
aGVzZSByZWFzb25zLCBhIHZlcnNpb24gb2YgdGhlIHNvZnR3YX
JlIHdyaXR0ZW4gaW4gdGhlIFB5dGhvbiAuLi4uXCIiLCJjcmVh
dGVkIjoxNTQzNzIwNjY1OTA2fSwiSGRWSXV4TTFEWlJHS1A0cS
I6eyJkaXNjdXNzaW9uSWQiOiI2ZWkyTVJOeTBzbWl4WGd1Iiwi
c3ViIjoiZ286MTAyOTA1NDM1NTMwODk2NDc0ODAwIiwidGV4dC
I6IldlJ3ZlIGFscmVhZHkgZG9uZSB0aGlzLCBzbyBpdCBzaG91
bGQgYmUgXCJ3YXNcIiIsImNyZWF0ZWQiOjE1NDM3MjA3Mjg0NT
N9LCI0b1NZWEcwQkNzeUhxdEFqIjp7ImRpc2N1c3Npb25JZCI6
IjhWR2w5Q1lyalhQTmU0RzQiLCJzdWIiOiJnbzoxMDI5MDU0Mz
U1MzA4OTY0NzQ4MDAiLCJ0ZXh0IjoiWW91IGNhbiBub3cgZHJp
dmUgaG9tZSB0aGF0IHRoZSB3ZWIgYXBwIGRvZXNuJ3QgcmVxdW
lyZSBhbnkgTWF0aGVtYXRpY2Egb3IgUHl0aG9uL1N5bVB5IGtu
b3dsZWRnZSwgd2hpY2ggSSB0aGluayBpcyB0aGUgbW9zdCBpbX
BvcnRhbnQgYWR2YW50YWdlISIsImNyZWF0ZWQiOjE1NDM3MjA3
OTU2NjB9LCI0Y3hpQUZmQ2FyU2Y2NXZqIjp7ImRpc2N1c3Npb2
5JZCI6IlNDbm5wMlRjQVo2ZWRJVEMiLCJzdWIiOiJnbzoxMDI5
MDU0MzU1MzA4OTY0NzQ4MDAiLCJ0ZXh0IjoiQ29uc2lkZXIgcm
VvcmRlcmluZyB0aGVzZSAuLi4gYXQgbGVhc3QgcHV0dGluZyBN
TUEgbGFzdCwgc2luY2UgSSB0aGluayBpdCdzIGxlYXN0IGltcG
9ydGFudC4iLCJjcmVhdGVkIjoxNTQzNzIyNTMxNjc3fSwiQnh5
TGt0RDlJM3QyVzZ1VSI6eyJkaXNjdXNzaW9uSWQiOiJ6ZW1ta2
hVTlFwdk5BQmtaIiwic3ViIjoiZ286MTAyOTA1NDM1NTMwODk2
NDc0ODAwIiwidGV4dCI6IldoZXJlPyIsImNyZWF0ZWQiOjE1ND
M3MjMwNzQ5Mjl9LCJxMEFKWnR1RzlTa2I2TnNVIjp7ImRpc2N1
c3Npb25JZCI6InplbW1raFVOUXB2TkFCa1oiLCJzdWIiOiJnbz
oxMDI5MDU0MzU1MzA4OTY0NzQ4MDAiLCJ0ZXh0IjoiSSBtZWFu
IHdlIHNob3VsZCBoeXBlcmxpbmsgaXQiLCJjcmVhdGVkIjoxNT
QzNzIzMDkyMDIxfSwiRXVpRGFYazluWGVlbUdqUiI6eyJkaXNj
dXNzaW9uSWQiOiJFVVJPRjRhRjdCQjd0OERKIiwic3ViIjoiZ2
86MTAyOTA1NDM1NTMwODk2NDc0ODAwIiwidGV4dCI6IkknbSBh
ZnJhaWQgdG8gaGFyZGNvZGUgdGhlIHVybCwgZXNwZWNpYWxseS
BpZiB3ZSdyZSBjaGFuZ2luZyB0byBTdGF0ZU1pbnQgLi4uIiwi
Y3JlYXRlZCI6MTU0Mzc3NjgyMDIxNX19LCJoaXN0b3J5IjpbLT
k1NzI2OTUxOSwtMTQ5MjkwOTU3LDQyMzY2MDExLC0yNTY5NjU4
MzcsLTEyMDE5MTA0NTIsMjA5ODc3NTk2MF19
-->