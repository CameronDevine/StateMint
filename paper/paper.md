---
title: 'Statum: An Application for Determining Symbolic Dynamic System Models using Linear Graph Methods'
tags:
  - system dynamics
  - calculator
  - symbolic math
  - computer algebra system
authors:
  - name: Cameron Devine
    orcid: 0000-0002-6579-111X
    affiliation: 1
  - name: Joseph L. Garbini
    affiliation: 1
  - name: Rico A. R. Picone
    orcid: 0000-0002-5091-5175
    affiliation: "2, 1"
affiliations:
  - name: University of Washington, Department of Mechanical Engineering
    index: 1
  - name: Saint Martin's University, Department of Mechanical Engineering
    index: 2
date: 26 September 2018
bibliography: paper.bib
---

# Summary

When determining the differential equation of a dynamic system using linear graph methods finding the elemental and constraint equations is the first step.
An understanding of the physical phenomena is necessary to determine these equations.
The next step is to algebraically eliminate those variables that are not state or input variables from the equations until a minimal set of differential equations remains.
This is where students most often make mistakes.
When learning system dynamics, students work many problems as a part of their coursework.
A reoccuring mistake can greatly effect a students percieved skill in this subject area.
However, this algebra is not a necessary component of a strong understanding of system dynamics.

To aid students in their learning process a program was written to symbolically determine the differential equations using the elemental and constraint equations as input.
This program allows students to focus on the process of creating a dynamic system model without worrying about algebraic mistakes.
This frees the student to work on the aspects of system dynamics which are new and unique.

Because symbolic math libraries already exist, writing this software is a relatively trivial task.
This was originally done in Mathematica because of its advanced symbolic math capabilities.
However, this required students to purchase and install Mathematica.
Because of the size and cost of Mathematica a more economical solution was desired.
To solve this problem the Python programming language along with SymPy [@meurer2017], a symbolic math library, was used to recreate the software.
This provides the same functionality without the cost barrier and with a smaller installed size.
The Python implementation also allows this code to be run as an Amazon AWS Lambda function.
With the Lambda function, a website can be designed to allow this software to be used by any device with an internet connection and web browser.

# Mathematica Package

The Mathematica package `StateMint` can be installed via the [documentation](). The central function of the package is `stateEquations`, which uses an algorithm similar to that of the Python package, above, to derive the state equations. It takes as arguments lists of elemental equations, constraint equations, primary variables, and input variables and returns the vector state equation, state variables, and the time-derivative of the state variables.

The `outputEquations` function derives the output equations given output expressions in terms of primary and secondary variables (including inputs). The function accepts lists of input variables, state variables, elemental and constraint equations, and output expressions.

The functions `stateEquations` and `outputEquations` yield what are in general *nonlinear* state and output equations. Linear state and output equations typically have the form

$$

$$

Rico will add more description, here.

A tutorial on how to use this package is included.

# Python Package

The Python package for performing the same task uses similar logic to the second method of the Mathematica package, again in the form defined by Rowell and Wormley [@rowell1997].
This function returns an object which includes the resulting system as a state space model, a transfer function, and an equation.
Helper functions are included to convert the symbolic matrices to Numpy [@oliphant2015] objects.
This code is documented using [readthedocs.io](https://statum.readthedocs.io/en/latest/) and works for both linear and nonlinear systems.

# Web Interface

To allow those without programming experience to use this code a web interface was designed and [implemented](http://statum.camerondevine.me/).
This interface has text boxes for equation input, and displays results as rendered math or code which can be copied into \LaTeX, Matlab, Python, or Mathematica.
Examples and documentation are built in to make learning how to use the interface as painless as possible.
There is also the ability to share, download, and save the system models for later use or modification.
This interface is designed to run on Amazon AWS serverless resources to simplify upkeep and keep costs low.
An automated installer is also included.

# Acknowledgments

The authors would like to acknowledge the work of [Gavin Basuel](https://www.gavinbasuel.com/) who designed the user experience for the web interface and helped with HTML/CSS development.

# References

<!--stackedit_data:
eyJkaXNjdXNzaW9ucyI6eyJTUjhYckl2em11VWpGY1paIjp7In
N0YXJ0Ijo2NjIsImVuZCI6ODE3LCJ0ZXh0IjoiV2hlbiBkZXRl
cm1pbmluZyB0aGUgZGlmZmVyZW50aWFsIGVxdWF0aW9uIG9mIG
EgZHluYW1pYyBzeXN0ZW0gdXNpbmcgbGluZWFyIGdyYeKApiJ9
LCJkMlFycnZsSnZjUmNFSXJiIjp7InN0YXJ0Ijo4MTgsImVuZC
I6OTAzLCJ0ZXh0IjoiQW4gdW5kZXJzdGFuZGluZyBvZiB0aGUg
cGh5c2ljYWwgcGhlbm9tZW5hIGlzIG5lY2Vzc2FyeSB0byBkZX
Rlcm1pbmUgdGhlc2UgZXF1YeKApiJ9LCJleVB3U3hGS1pTN3Vi
aWxuIjp7InN0YXJ0IjoxMTI1LCJlbmQiOjEzMDMsInRleHQiOi
JXaGVuIGxlYXJuaW5nIHN5c3RlbSBkeW5hbWljcywgc3R1ZGVu
dHMgd29yayBtYW55IHByb2JsZW1zIGFzIGEgcGFydCBvZiB0aG
VpciBj4oCmIn0sIkJhcEpWbXc2RFVXNEpNZVMiOnsic3RhcnQi
OjEzMDQsImVuZCI6MTQwMCwidGV4dCI6Ikhvd2V2ZXIsIHRoaX
MgYWxnZWJyYSBpcyBub3QgYSBuZWNlc3NhcnkgY29tcG9uZW50
IG9mIGEgc3Ryb25nIHVuZGVyc3RhbmRpbmcgb2bigKYifSwia0
l0TDFRVkJISXlrbVRCdCI6eyJzdGFydCI6MTQwMiwiZW5kIjox
NTczLCJ0ZXh0IjoiVG8gYWlkIHN0dWRlbnRzIGluIHRoZWlyIG
xlYXJuaW5nIHByb2Nlc3MgYSBwcm9ncmFtIHdhcyB3cml0dGVu
IHRvIHN5bWJvbGljYWxseeKApiJ9LCJTbmg2bWwzYnhGa0dQTW
1mIjp7InN0YXJ0IjoxNzA1LCJlbmQiOjE3OTUsInRleHQiOiJU
aGlzIGZyZWVzIHRoZSBzdHVkZW50IHRvIHdvcmsgb24gdGhlIG
FzcGVjdHMgb2Ygc3lzdGVtIGR5bmFtaWNzIHdoaWNoIGFyZSBu
ZXfigKYifSwiSDVBV2V4YUM4emxYYjIxTyI6eyJzdGFydCI6MT
c5NywiZW5kIjoxODk1LCJ0ZXh0IjoiQmVjYXVzZSBzeW1ib2xp
YyBtYXRoIGxpYnJhcmllcyBhbHJlYWR5IGV4aXN0LCB3cml0aW
5nIHRoaXMgc29mdHdhcmUgaXMgYSByZWxhdOKApiJ9LCJ3RUc2
Vnc4a1F3WnBoVzYzIjp7InN0YXJ0IjoxOTE2LCJlbmQiOjE5Mj
AsInRleHQiOiJkb25lIn0sIlF3TER2M0gzQk1QTFVMNTAiOnsi
c3RhcnQiOjIwMDIsImVuZCI6MjAxMCwidGV4dCI6InJlcXVpcm
VkIn0sInBSS1Rpbm9LZ3NXN1Z0MkgiOnsic3RhcnQiOjIwNzIs
ImVuZCI6MjA4NSwidGV4dCI6InNpemUgYW5kIGNvc3QifSwicn
gyTHVtZGNLVkVpMmZVSyI6eyJzdGFydCI6MjI1NiwiZW5kIjoy
MjYwLCJ0ZXh0IjoidXNlZCJ9LCI2ZWkyTVJOeTBzbWl4WGd1Ij
p7InN0YXJ0IjoyNTEyLCJlbmQiOjI1MTgsInRleHQiOiJjYW4g
YmUifSwiOFZHbDlDWXJqWFBOZTRHNCI6eyJzdGFydCI6MjYwOC
wiZW5kIjoyNjIwLCJ0ZXh0Ijoid2ViIGJyb3dzZXIuIn0sIlND
bm5wMlRjQVo2ZWRJVEMiOnsic3RhcnQiOjI2MjIsImVuZCI6Mj
Y0MywidGV4dCI6IiMgTWF0aGVtYXRpY2EgUGFja2FnZSJ9LCJ6
ZW1ta2hVTlFwdk5BQmtaIjp7InN0YXJ0IjozNjQxLCJlbmQiOj
M2NDksInRleHQiOiJpbmNsdWRlZCJ9fSwiY29tbWVudHMiOnsi
UnlMamsycUxjcjhEczhKZCI6eyJkaXNjdXNzaW9uSWQiOiJTUj
hYckl2em11VWpGY1paIiwic3ViIjoiZ286MTAyOTA1NDM1NTMw
ODk2NDc0ODAwIiwidGV4dCI6IkknbSBhIGJpZyBiZWxpZXZlci
B0aGF0IHlvdXIgZmlyc3Qgc2VudGVuY2Ugc2hvdWxkIHRyeSB0
byBjb252ZXkgdGhlIG1haW4gcG9pbnQgb2YgeW91ciBwYXBlci
4gVGhpcyBpcyBtb3JlIG9mIGFuIFwiaW50cm9kdWN0aW9uXCIg
c2VjdGlvbiBzZW50ZW5jZSwgYXMgYXJlIHRob3NlIHRoYXQgZm
9sbG93IGl0LiBQZXJoYXBzIHRoaXMgKmlzKiBlZmZlY3RpdmVs
eSB0aGUgaW50cm9kdWN0aW9uIGFuZCB0aGVyZSdzIGEgc2VwYX
JhdGUgYWJzdHJhY3QgLi4uIGlmIHNvLCB0aGF0J3MgZmluZS4i
LCJjcmVhdGVkIjoxNTQzNzE5MTAyODMwfSwiemRod2NNWmllRF
dySXBrQyI6eyJkaXNjdXNzaW9uSWQiOiJTUjhYckl2em11VWpG
Y1paIiwic3ViIjoiZ286MTAyOTA1NDM1NTMwODk2NDc0ODAwIi
widGV4dCI6IkknbSBnb2luZyB0byBjb250aW51ZSBjb21tZW50
aW5nIGFzIGlmIHRoaXMgdGV4dCBpcyBwcmVjZWRlZCBieSBhbi
BhYnN0cmFjdCBvZiBzb21lIHNvcnQuIiwiY3JlYXRlZCI6MTU0
MzcxOTIwMTgwOH0sIm9oMWpmNmVPTmJHYjVyMHciOnsiZGlzY3
Vzc2lvbklkIjoiZDJRcnJ2bEp2Y1JjRUlyYiIsInN1YiI6Imdv
OjEwMjkwNTQzNTUzMDg5NjQ3NDgwMCIsInRleHQiOiJUcnVlLC
BidXQgcHJvYmFibHkgbm90IG5lZWRlZCBoZXJlIiwiY3JlYXRl
ZCI6MTU0MzcxOTI0MDgzNn0sInViZHFOaFdTbXRHVWtTV2UiOn
siZGlzY3Vzc2lvbklkIjoiZXlQd1N4RktaUzd1YmlsbiIsInN1
YiI6ImdvOjEwMjkwNTQzNTUzMDg5NjQ3NDgwMCIsInRleHQiOi
JJIHRoaW5rIGFkZGluZyBhIHBocmFzZSB0byB0aGUgcHJlY2Vk
aW5nIHNlbnRlbmNlIGNvdWxkIGNhcHR1cmUgd2hhdCB5b3Uncm
UgdHJ5aW5nIHRvIHNheSwgaGVyZS4gU29tZXRoaW5nIGxpa2Ug
XCIuLi4gbWFrZSBtaXN0YWtlcywgd2hpY2ggbGVhZCB0byBmcn
VzdHJhdGlvbiBhbmQgZGlzY291cmFnZW1lbnQgd2hlbiBtYW51
YWxseSByZWR1Y2luZyB0aGUgc3lzdGVtIG9mIGVxdWF0aW9ucy
5cIiIsImNyZWF0ZWQiOjE1NDM3MTk2MTA2ODd9LCI0NFdCZTRr
WEVBRktvSFFLIjp7ImRpc2N1c3Npb25JZCI6IkJhcEpWbXc2RF
VXNEpNZVMiLCJzdWIiOiJnbzoxMDI5MDU0MzU1MzA4OTY0NzQ4
MDAiLCJ0ZXh0IjoiQWx3YXlzIHRyeSB0byBzaGVkIHdvcmRzLC
B3aGVuIHBvc3NpYmxlLiBBbHNvIHRyeSBwYWNraW5nIGluIGFz
IG11Y2ggc3BlY2lmaWNpdHkuIEhlcmUgeW91IGNvdWxkIHNheS
BcIkhvd2V2ZXIsIGZsYXdsZXNzIG1hbnVhbCBhbGdlYnJhIGlz
IG5vdCByZXF1aXJlZCB0byB1bmRlcnN0YW5kIHN5c3RlbSBkeW
5hbWljcy5cIiIsImNyZWF0ZWQiOjE1NDM3MTk4NzAxMjJ9LCJh
NkRJZlFoTnppbTAweTBuIjp7ImRpc2N1c3Npb25JZCI6IkJhcE
pWbXc2RFVXNEpNZVMiLCJzdWIiOiJnbzoxMDI5MDU0MzU1MzA4
OTY0NzQ4MDAiLCJ0ZXh0IjoiSSB3b3VsZCBhZGQgc29tZXRoaW
5nIGxpa2UgXCJNb3Jlb3ZlciwgdGhlIGFsZ2VicmEgY2FuIGJl
IGF1dG9tYXRlZCwgYSBmZXcgdG9vbHMgZm9yIHdoaWNoIHdlIH
ByZXNlbnQsIGhlcmUuIiwiY3JlYXRlZCI6MTU0MzcxOTk3MjMw
OX0sIjRCcmNOanNEbHhTYkxsTTYiOnsiZGlzY3Vzc2lvbklkIj
oia0l0TDFRVkJISXlrbVRCdCIsInN1YiI6ImdvOjEwMjkwNTQz
NTUzMDg5NjQ3NDgwMCIsInRleHQiOiJXZSBjYW4gbm93IGJlIG
1vcmUgc3BlY2lmaWMsIGhlcmUuIFdlIGhhdmUgYWxyZWFkeSBp
bnRyb2R1Y2VkIHRoZSBlcXVhdGlvbnMgYW5kIHRoZSB0YXNrIG
9mIGF1dG9tYXRpb24uIiwiY3JlYXRlZCI6MTU0MzcyMDA2MzY5
Mn0sInNveUhHd2ZCcWR6NVU4WDUiOnsiZGlzY3Vzc2lvbklkIj
oiU25oNm1sM2J4RmtHUE1tZiIsInN1YiI6ImdvOjEwMjkwNTQz
NTUzMDg5NjQ3NDgwMCIsInRleHQiOiJJIHRoaW5rIHlvdSBjb3
VsZCByZXBocmFzZSB0aGlzIHRvIGJlIG1vcmUgY2xlYXIgdGhh
dCB0aGUgXCJuZXdcIiBhbmQgXCJ1bmlxdWVcIiBhc3BlY3RzIG
FyZSBzbyB0byB0aGUgc3R1ZGVudHMsIG5vdCBzeXN0ZW0gZHlu
YW1pY3MuIiwiY3JlYXRlZCI6MTU0MzcyMDE0MDQxMH0sIkpybW
RDcXJJSFBXNm5RY1UiOnsiZGlzY3Vzc2lvbklkIjoiSDVBV2V4
YUM4emxYYjIxTyIsInN1YiI6ImdvOjEwMjkwNTQzNTUzMDg5Nj
Q3NDgwMCIsInRleHQiOiJDb25zaWRlciBnZXR0aW5nIHJpZCBv
ZiB0aGUgZXhpc3RlbmNlIHN0YXRlbWVudCBhbmQgaW5zdGVhZC
Bmb2N1cyBvbiB0aGUgZmFjdCB0aGF0IHdlICphcHBsaWVkIGV4
aXN0aW5nKiBzeW1ib2xpYyBtYXRoIGxpYnJhcmllcy4gQWxzby
Bjb25zaWRlciBjYWxsaW5nIGl0IFwibWF0aGVtYXRpY3NcIiBi
ZWNhdXNlIHdlJ3JlIGZhbmN5IiwiY3JlYXRlZCI6MTU0MzcyMD
I3NTY1OX0sIko2RzZvODRjSHRXQTV0WlAiOnsiZGlzY3Vzc2lv
bklkIjoid0VHNlZ3OGtRd1pwaFc2MyIsInN1YiI6ImdvOjEwMj
kwNTQzNTUzMDg5NjQ3NDgwMCIsInRleHQiOiJDb25zaWRlciBy
ZXBocmFzaW5nIHRvIGF2b2lkIFwiZG9uZVwiIiwiY3JlYXRlZC
I6MTU0MzcyMDMwNDkzMX0sInR3WmZ5RnhIVms0ZnZpbUQiOnsi
ZGlzY3Vzc2lvbklkIjoiUXdMRHYzSDNCTVBMVUw1MCIsInN1Yi
I6ImdvOjEwMjkwNTQzNTUzMDg5NjQ3NDgwMCIsInRleHQiOiJJ
IHRoaW5rIHByZXNlbnQgdGVuc2UgaXMgYmV0dGVyIHNpbmNlIH
dlJ3JlIHN0aWxsIHJlbGVhc2luZyBhIE1NQSBwYWNrYWdlIiwi
Y3JlYXRlZCI6MTU0MzcyMDMzMzU0OH0sImtuWklSeWw3UnJFWF
VUMzYiOnsiZGlzY3Vzc2lvbklkIjoicFJLVGlub0tnc1c3VnQy
SCIsInN1YiI6ImdvOjEwMjkwNTQzNTUzMDg5NjQ3NDgwMCIsIn
RleHQiOiJJIHRoaW5rIHBlcmhhcHMgdGhlIG1vc3QgaW1wb3J0
YW50IGFzcGVjdCBpcyB0aGF0IGl0IHJlcXVpcmVzIHN0dWRlbn
RzIHRvIGxlYXJuIGEgbmV3IHNvZnR3YXJlIHN5c3RlbSAuLi4g
d2hpY2ggbW9yZSB0aGFuIG91dHdlaWdocyB0aGUgYWR2YW50YW
dlcyBmb3IgbW9zdCBvZiB0aGUgc3R1ZGVudHMgLi4uIHlvdXIg
d2ViIGFwcCBsZXRzIHRoZW0gZ2V0IHN0YXJ0ZWQgd2l0aG91dC
BsZWFybmluZyBNTUEiLCJjcmVhdGVkIjoxNTQzNzIwNDQ1Njc4
fSwiNG94clJzaEZJaWNNMkVPTyI6eyJkaXNjdXNzaW9uSWQiOi
JyeDJMdW1kY0tWRWkyZlVLIiwic3ViIjoiZ286MTAyOTA1NDM1
NTMwODk2NDc0ODAwIiwidGV4dCI6Ikl0J3MgYmVzdCB0byBhdm
9pZCBcInVzZWRcIiAuLi4gYW5kIGV2ZW4gYmV0dGVyIHRvIGF2
b2lkIHRoZSBwaHJhc2luZyB0aGF0IGxlYWQgdG8gaXQuIEUuZy
4gdGhpcyBzZW50ZW5jZSBjb3VsZCBiZSBcIkZvciB0aGVzZSBy
ZWFzb25zLCBhIHZlcnNpb24gb2YgdGhlIHNvZnR3YXJlIHdyaX
R0ZW4gaW4gdGhlIFB5dGhvbiAuLi4uXCIiLCJjcmVhdGVkIjox
NTQzNzIwNjY1OTA2fSwiSGRWSXV4TTFEWlJHS1A0cSI6eyJkaX
NjdXNzaW9uSWQiOiI2ZWkyTVJOeTBzbWl4WGd1Iiwic3ViIjoi
Z286MTAyOTA1NDM1NTMwODk2NDc0ODAwIiwidGV4dCI6IldlJ3
ZlIGFscmVhZHkgZG9uZSB0aGlzLCBzbyBpdCBzaG91bGQgYmUg
XCJ3YXNcIiIsImNyZWF0ZWQiOjE1NDM3MjA3Mjg0NTN9LCI0b1
NZWEcwQkNzeUhxdEFqIjp7ImRpc2N1c3Npb25JZCI6IjhWR2w5
Q1lyalhQTmU0RzQiLCJzdWIiOiJnbzoxMDI5MDU0MzU1MzA4OT
Y0NzQ4MDAiLCJ0ZXh0IjoiWW91IGNhbiBub3cgZHJpdmUgaG9t
ZSB0aGF0IHRoZSB3ZWIgYXBwIGRvZXNuJ3QgcmVxdWlyZSBhbn
kgTWF0aGVtYXRpY2Egb3IgUHl0aG9uL1N5bVB5IGtub3dsZWRn
ZSwgd2hpY2ggSSB0aGluayBpcyB0aGUgbW9zdCBpbXBvcnRhbn
QgYWR2YW50YWdlISIsImNyZWF0ZWQiOjE1NDM3MjA3OTU2NjB9
LCI0Y3hpQUZmQ2FyU2Y2NXZqIjp7ImRpc2N1c3Npb25JZCI6Il
NDbm5wMlRjQVo2ZWRJVEMiLCJzdWIiOiJnbzoxMDI5MDU0MzU1
MzA4OTY0NzQ4MDAiLCJ0ZXh0IjoiQ29uc2lkZXIgcmVvcmRlcm
luZyB0aGVzZSAuLi4gYXQgbGVhc3QgcHV0dGluZyBNTUEgbGFz
dCwgc2luY2UgSSB0aGluayBpdCdzIGxlYXN0IGltcG9ydGFudC
4iLCJjcmVhdGVkIjoxNTQzNzIyNTMxNjc3fSwiQnh5TGt0RDlJ
M3QyVzZ1VSI6eyJkaXNjdXNzaW9uSWQiOiJ6ZW1ta2hVTlFwdk
5BQmtaIiwic3ViIjoiZ286MTAyOTA1NDM1NTMwODk2NDc0ODAw
IiwidGV4dCI6IldoZXJlPyIsImNyZWF0ZWQiOjE1NDM3MjMwNz
Q5Mjl9LCJxMEFKWnR1RzlTa2I2TnNVIjp7ImRpc2N1c3Npb25J
ZCI6InplbW1raFVOUXB2TkFCa1oiLCJzdWIiOiJnbzoxMDI5MD
U0MzU1MzA4OTY0NzQ4MDAiLCJ0ZXh0IjoiSSBtZWFuIHdlIHNo
b3VsZCBoeXBlcmxpbmsgaXQiLCJjcmVhdGVkIjoxNTQzNzIzMD
kyMDIxfX0sImhpc3RvcnkiOlstNTQ1MjI1Njc0LC0yNTY5NjU4
MzcsLTEyMDE5MTA0NTIsMjA5ODc3NTk2MF19
-->