---
title: 'Statum: An Application for Determining Symbolic Dynamic System Models using Linear Graph Methods'
tags:
  - system dynamics
  - calculator
  - symbolic math
  - computer algebra system
authors:
  - name: Cameron Devine
    orcid: 0000-0002-6579-111X
    affiliation: 1
  - name: Joseph L. Garbini
    affiliation: 1
  - name: Rico A. R. Picone
    orcid: 0000-0002-5091-5175
    affiliation: "2, 1"
affiliations:
  - name: University of Washington, Department of Mechanical Engineering
    index: 1
  - name: Saint Martin's University, Department of Mechanical Engineering
    index: 2
date: 26 September 2018
bibliography: paper.bib
---

# Summary

When determining the differential equation of a dynamic system using linear graph methods finding the elemental and constraint equations is the first step.
The next step is to algebraically eliminate those variables that are not state or input variables from the equations until a minimal set of differential equations remains.
During this step of manually reducing the system of equations is where students often make mistakes, leading to frustration and discouragement.
However, this algebra is not a necessary component of a strong understanding of system dynamics and can be easily automated using tools we present here.


To aid students in their learning process a program was written to symbolically determine the differential equations using the elemental and constraint equations as input.
This program allows students to focus on the process of creating a dynamic system model without worrying about algebraic mistakes.
This allows the student to focus on course content which is new and unique.

Because symbolic math libraries already exist, writing this software is a relatively trivial task.
This was originally done in Mathematica because of its advanced symbolic math capabilities.
However, this required students to purchase and install Mathematica.
Because of the size and cost of Mathematica a more economical solution was desired.
To solve this problem the Python programming language along with SymPy [@meurer2017], a symbolic math library, was used to recreate the software.
This provides the same functionality without the cost barrier and with a smaller installed size.
The Python implementation also allows this code to be run as an Amazon AWS Lambda function.
With the Lambda function, a website was designed to allow this software to be used with any device which has an internet connection and a web browser.
This interface can be used with zero knowledge of programming by simply entering 

# Mathematica Package

The Mathematica package `StateMint` can be installed via the [documentation](). The central function of the package is `stateEquations`, which uses an algorithm similar to that of the Python package, above, to derive the state equations. It takes as arguments lists of elemental equations, constraint equations, primary variables, and input variables and returns the vector state equation, state variables, and the time-derivative of the state variables.

The `outputEquations` function derives the output equations given output expressions in terms of primary and secondary variables (including inputs). The function accepts lists of input variables, state variables, elemental and constraint equations, and output expressions.

The functions `stateEquations` and `outputEquations` yield what are in general *nonlinear* state and output equations. Linear state and output equations are typically written in a standard vector form described by matrices `A`, `B`, `C`, and `D` (and sometimes `E` and `F`). The `linearizeState` function accepts lists of input variables, state variables, and the time-derivatives of the state vector (from `stateEquations`) and returns the `A`, `B`, and `E` matrices. Similarly, `linearizeOutput` returns the `C`, `D`, and `F` matrices.

A tutorial on how to use this package is included.

# Python Package

The Python package for performing the same task uses similar logic to the second method of the Mathematica package, again in the form defined by Rowell and Wormley [@rowell1997].
This function returns an object which includes the resulting system as a state space model, a transfer function, and an equation.
Helper functions are included to convert the symbolic matrices to Numpy [@oliphant2015] objects.
This code is documented using [readthedocs.io](https://statum.readthedocs.io/en/latest/) and works for both linear and nonlinear systems.

# Web Interface

To allow those without programming experience to use this code a web interface was designed and [implemented](http://statum.camerondevine.me/).
This interface has text boxes for equation input, and displays results as rendered math or code which can be copied into \LaTeX, Matlab, Python, or Mathematica.
Examples and documentation are built in to make learning how to use the interface as painless as possible.
There is also the ability to share, download, and save the system models for later use or modification.
This interface is designed to run on Amazon AWS serverless resources to simplify upkeep and keep costs low.
An automated installer is also included.

# Acknowledgments

The authors would like to acknowledge the work of [Gavin Basuel](https://www.gavinbasuel.com/) who designed the user experience for the web interface and helped with HTML/CSS development.

# References

<!--stackedit_data:
eyJkaXNjdXNzaW9ucyI6eyJTUjhYckl2em11VWpGY1paIjp7In
N0YXJ0Ijo2NjIsImVuZCI6ODE3LCJ0ZXh0IjoiV2hlbiBkZXRl
cm1pbmluZyB0aGUgZGlmZmVyZW50aWFsIGVxdWF0aW9uIG9mIG
EgZHluYW1pYyBzeXN0ZW0gdXNpbmcgbGluZWFyIGdyYeKApiJ9
LCJleVB3U3hGS1pTN3ViaWxuIjp7InN0YXJ0IjoxMTM0LCJlbm
QiOjExMzQsInRleHQiOiJXaGVuIGxlYXJuaW5nIHN5c3RlbSBk
eW5hbWljcywgc3R1ZGVudHMgd29yayBtYW55IHByb2JsZW1zIG
FzIGEgcGFydCBvZiB0aGVpciBj4oCmIn0sImtJdEwxUVZCSEl5
a21UQnQiOnsic3RhcnQiOjEyODksImVuZCI6MTQ2MCwidGV4dC
I6IlRvIGFpZCBzdHVkZW50cyBpbiB0aGVpciBsZWFybmluZyBw
cm9jZXNzIGEgcHJvZ3JhbSB3YXMgd3JpdHRlbiB0byBzeW1ib2
xpY2FsbHnigKYifSwiSDVBV2V4YUM4emxYYjIxTyI6eyJzdGFy
dCI6MTY2OSwiZW5kIjoxNzY3LCJ0ZXh0IjoiQmVjYXVzZSBzeW
1ib2xpYyBtYXRoIGxpYnJhcmllcyBhbHJlYWR5IGV4aXN0LCB3
cml0aW5nIHRoaXMgc29mdHdhcmUgaXMgYSByZWxhdOKApiJ9LC
J3RUc2Vnc4a1F3WnBoVzYzIjp7InN0YXJ0IjoxNzg4LCJlbmQi
OjE3OTIsInRleHQiOiJkb25lIn0sIlF3TER2M0gzQk1QTFVMNT
AiOnsic3RhcnQiOjE4NzQsImVuZCI6MTg4MiwidGV4dCI6InJl
cXVpcmVkIn0sInBSS1Rpbm9LZ3NXN1Z0MkgiOnsic3RhcnQiOj
E5NDQsImVuZCI6MTk1NywidGV4dCI6InNpemUgYW5kIGNvc3Qi
fSwicngyTHVtZGNLVkVpMmZVSyI6eyJzdGFydCI6MjEyOCwiZW
5kIjoyMTMyLCJ0ZXh0IjoidXNlZCJ9LCI4VkdsOUNZcmpYUE5l
NEc0Ijp7InN0YXJ0IjoyNDg2LCJlbmQiOjI0OTgsInRleHQiOi
J3ZWIgYnJvd3Nlci4ifSwiU0NubnAyVGNBWjZlZElUQyI6eyJz
dGFydCI6MjU4MiwiZW5kIjoyNjAzLCJ0ZXh0IjoiIyBNYXRoZW
1hdGljYSBQYWNrYWdlIn0sInplbW1raFVOUXB2TkFCa1oiOnsi
c3RhcnQiOjM5MTUsImVuZCI6MzkyMywidGV4dCI6ImluY2x1ZG
VkIn0sIkVVUk9GNGFGN0JCN3Q4REoiOnsic3RhcnQiOjI2NjYs
ImVuZCI6MjY4MywidGV4dCI6Iltkb2N1bWVudGF0aW9uXSgpIn
19LCJjb21tZW50cyI6eyJSeUxqazJxTGNyOERzOEpkIjp7ImRp
c2N1c3Npb25JZCI6IlNSOFhySXZ6bXVVakZjWloiLCJzdWIiOi
JnbzoxMDI5MDU0MzU1MzA4OTY0NzQ4MDAiLCJ0ZXh0IjoiSSdt
IGEgYmlnIGJlbGlldmVyIHRoYXQgeW91ciBmaXJzdCBzZW50ZW
5jZSBzaG91bGQgdHJ5IHRvIGNvbnZleSB0aGUgbWFpbiBwb2lu
dCBvZiB5b3VyIHBhcGVyLiBUaGlzIGlzIG1vcmUgb2YgYW4gXC
JpbnRyb2R1Y3Rpb25cIiBzZWN0aW9uIHNlbnRlbmNlLCBhcyBh
cmUgdGhvc2UgdGhhdCBmb2xsb3cgaXQuIFBlcmhhcHMgdGhpcy
AqaXMqIGVmZmVjdGl2ZWx5IHRoZSBpbnRyb2R1Y3Rpb24gYW5k
IHRoZXJlJ3MgYSBzZXBhcmF0ZSBhYnN0cmFjdCAuLi4gaWYgc2
8sIHRoYXQncyBmaW5lLiIsImNyZWF0ZWQiOjE1NDM3MTkxMDI4
MzB9LCJ6ZGh3Y01aaWVEV3JJcGtDIjp7ImRpc2N1c3Npb25JZC
I6IlNSOFhySXZ6bXVVakZjWloiLCJzdWIiOiJnbzoxMDI5MDU0
MzU1MzA4OTY0NzQ4MDAiLCJ0ZXh0IjoiSSdtIGdvaW5nIHRvIG
NvbnRpbnVlIGNvbW1lbnRpbmcgYXMgaWYgdGhpcyB0ZXh0IGlz
IHByZWNlZGVkIGJ5IGFuIGFic3RyYWN0IG9mIHNvbWUgc29ydC
4iLCJjcmVhdGVkIjoxNTQzNzE5MjAxODA4fSwidWJkcU5oV1Nt
dEdVa1NXZSI6eyJkaXNjdXNzaW9uSWQiOiJleVB3U3hGS1pTN3
ViaWxuIiwic3ViIjoiZ286MTAyOTA1NDM1NTMwODk2NDc0ODAw
IiwidGV4dCI6IkkgdGhpbmsgYWRkaW5nIGEgcGhyYXNlIHRvIH
RoZSBwcmVjZWRpbmcgc2VudGVuY2UgY291bGQgY2FwdHVyZSB3
aGF0IHlvdSdyZSB0cnlpbmcgdG8gc2F5LCBoZXJlLiBTb21ldG
hpbmcgbGlrZSBcIi4uLiBtYWtlIG1pc3Rha2VzLCB3aGljaCBs
ZWFkIHRvIGZydXN0cmF0aW9uIGFuZCBkaXNjb3VyYWdlbWVudC
B3aGVuIG1hbnVhbGx5IHJlZHVjaW5nIHRoZSBzeXN0ZW0gb2Yg
ZXF1YXRpb25zLlwiIiwiY3JlYXRlZCI6MTU0MzcxOTYxMDY4N3
0sIjRCcmNOanNEbHhTYkxsTTYiOnsiZGlzY3Vzc2lvbklkIjoi
a0l0TDFRVkJISXlrbVRCdCIsInN1YiI6ImdvOjEwMjkwNTQzNT
UzMDg5NjQ3NDgwMCIsInRleHQiOiJXZSBjYW4gbm93IGJlIG1v
cmUgc3BlY2lmaWMsIGhlcmUuIFdlIGhhdmUgYWxyZWFkeSBpbn
Ryb2R1Y2VkIHRoZSBlcXVhdGlvbnMgYW5kIHRoZSB0YXNrIG9m
IGF1dG9tYXRpb24uIiwiY3JlYXRlZCI6MTU0MzcyMDA2MzY5Mn
0sIkpybWRDcXJJSFBXNm5RY1UiOnsiZGlzY3Vzc2lvbklkIjoi
SDVBV2V4YUM4emxYYjIxTyIsInN1YiI6ImdvOjEwMjkwNTQzNT
UzMDg5NjQ3NDgwMCIsInRleHQiOiJDb25zaWRlciBnZXR0aW5n
IHJpZCBvZiB0aGUgZXhpc3RlbmNlIHN0YXRlbWVudCBhbmQgaW
5zdGVhZCBmb2N1cyBvbiB0aGUgZmFjdCB0aGF0IHdlICphcHBs
aWVkIGV4aXN0aW5nKiBzeW1ib2xpYyBtYXRoIGxpYnJhcmllcy
4gQWxzbyBjb25zaWRlciBjYWxsaW5nIGl0IFwibWF0aGVtYXRp
Y3NcIiBiZWNhdXNlIHdlJ3JlIGZhbmN5IiwiY3JlYXRlZCI6MT
U0MzcyMDI3NTY1OX0sIko2RzZvODRjSHRXQTV0WlAiOnsiZGlz
Y3Vzc2lvbklkIjoid0VHNlZ3OGtRd1pwaFc2MyIsInN1YiI6Im
dvOjEwMjkwNTQzNTUzMDg5NjQ3NDgwMCIsInRleHQiOiJDb25z
aWRlciByZXBocmFzaW5nIHRvIGF2b2lkIFwiZG9uZVwiIiwiY3
JlYXRlZCI6MTU0MzcyMDMwNDkzMX0sInR3WmZ5RnhIVms0ZnZp
bUQiOnsiZGlzY3Vzc2lvbklkIjoiUXdMRHYzSDNCTVBMVUw1MC
IsInN1YiI6ImdvOjEwMjkwNTQzNTUzMDg5NjQ3NDgwMCIsInRl
eHQiOiJJIHRoaW5rIHByZXNlbnQgdGVuc2UgaXMgYmV0dGVyIH
NpbmNlIHdlJ3JlIHN0aWxsIHJlbGVhc2luZyBhIE1NQSBwYWNr
YWdlIiwiY3JlYXRlZCI6MTU0MzcyMDMzMzU0OH0sImtuWklSeW
w3UnJFWFVUMzYiOnsiZGlzY3Vzc2lvbklkIjoicFJLVGlub0tn
c1c3VnQySCIsInN1YiI6ImdvOjEwMjkwNTQzNTUzMDg5NjQ3ND
gwMCIsInRleHQiOiJJIHRoaW5rIHBlcmhhcHMgdGhlIG1vc3Qg
aW1wb3J0YW50IGFzcGVjdCBpcyB0aGF0IGl0IHJlcXVpcmVzIH
N0dWRlbnRzIHRvIGxlYXJuIGEgbmV3IHNvZnR3YXJlIHN5c3Rl
bSAuLi4gd2hpY2ggbW9yZSB0aGFuIG91dHdlaWdocyB0aGUgYW
R2YW50YWdlcyBmb3IgbW9zdCBvZiB0aGUgc3R1ZGVudHMgLi4u
IHlvdXIgd2ViIGFwcCBsZXRzIHRoZW0gZ2V0IHN0YXJ0ZWQgd2
l0aG91dCBsZWFybmluZyBNTUEiLCJjcmVhdGVkIjoxNTQzNzIw
NDQ1Njc4fSwiNG94clJzaEZJaWNNMkVPTyI6eyJkaXNjdXNzaW
9uSWQiOiJyeDJMdW1kY0tWRWkyZlVLIiwic3ViIjoiZ286MTAy
OTA1NDM1NTMwODk2NDc0ODAwIiwidGV4dCI6Ikl0J3MgYmVzdC
B0byBhdm9pZCBcInVzZWRcIiAuLi4gYW5kIGV2ZW4gYmV0dGVy
IHRvIGF2b2lkIHRoZSBwaHJhc2luZyB0aGF0IGxlYWQgdG8gaX
QuIEUuZy4gdGhpcyBzZW50ZW5jZSBjb3VsZCBiZSBcIkZvciB0
aGVzZSByZWFzb25zLCBhIHZlcnNpb24gb2YgdGhlIHNvZnR3YX
JlIHdyaXR0ZW4gaW4gdGhlIFB5dGhvbiAuLi4uXCIiLCJjcmVh
dGVkIjoxNTQzNzIwNjY1OTA2fSwiNG9TWVhHMEJDc3lIcXRBai
I6eyJkaXNjdXNzaW9uSWQiOiI4VkdsOUNZcmpYUE5lNEc0Iiwi
c3ViIjoiZ286MTAyOTA1NDM1NTMwODk2NDc0ODAwIiwidGV4dC
I6IllvdSBjYW4gbm93IGRyaXZlIGhvbWUgdGhhdCB0aGUgd2Vi
IGFwcCBkb2Vzbid0IHJlcXVpcmUgYW55IE1hdGhlbWF0aWNhIG
9yIFB5dGhvbi9TeW1QeSBrbm93bGVkZ2UsIHdoaWNoIEkgdGhp
bmsgaXMgdGhlIG1vc3QgaW1wb3J0YW50IGFkdmFudGFnZSEiLC
JjcmVhdGVkIjoxNTQzNzIwNzk1NjYwfSwiNGN4aUFGZkNhclNm
NjV2aiI6eyJkaXNjdXNzaW9uSWQiOiJTQ25ucDJUY0FaNmVkSV
RDIiwic3ViIjoiZ286MTAyOTA1NDM1NTMwODk2NDc0ODAwIiwi
dGV4dCI6IkNvbnNpZGVyIHJlb3JkZXJpbmcgdGhlc2UgLi4uIG
F0IGxlYXN0IHB1dHRpbmcgTU1BIGxhc3QsIHNpbmNlIEkgdGhp
bmsgaXQncyBsZWFzdCBpbXBvcnRhbnQuIiwiY3JlYXRlZCI6MT
U0MzcyMjUzMTY3N30sIkJ4eUxrdEQ5STN0Mlc2dVUiOnsiZGlz
Y3Vzc2lvbklkIjoiemVtbWtoVU5RcHZOQUJrWiIsInN1YiI6Im
dvOjEwMjkwNTQzNTUzMDg5NjQ3NDgwMCIsInRleHQiOiJXaGVy
ZT8iLCJjcmVhdGVkIjoxNTQzNzIzMDc0OTI5fSwicTBBSlp0dU
c5U2tiNk5zVSI6eyJkaXNjdXNzaW9uSWQiOiJ6ZW1ta2hVTlFw
dk5BQmtaIiwic3ViIjoiZ286MTAyOTA1NDM1NTMwODk2NDc0OD
AwIiwidGV4dCI6IkkgbWVhbiB3ZSBzaG91bGQgaHlwZXJsaW5r
IGl0IiwiY3JlYXRlZCI6MTU0MzcyMzA5MjAyMX0sIkV1aURhWG
s5blhlZW1HalIiOnsiZGlzY3Vzc2lvbklkIjoiRVVST0Y0YUY3
QkI3dDhESiIsInN1YiI6ImdvOjEwMjkwNTQzNTUzMDg5NjQ3ND
gwMCIsInRleHQiOiJJJ20gYWZyYWlkIHRvIGhhcmRjb2RlIHRo
ZSB1cmwsIGVzcGVjaWFsbHkgaWYgd2UncmUgY2hhbmdpbmcgdG
8gU3RhdGVNaW50IC4uLiIsImNyZWF0ZWQiOjE1NDM3NzY4MjAy
MTV9LCI2Qk40YzVtd3JVaUZnYkVCIjp7ImRpc2N1c3Npb25JZC
I6IkVVUk9GNGFGN0JCN3Q4REoiLCJzdWIiOiJnaDoxMDM5NDg5
NiIsInRleHQiOiJXaGVuIEkgY2hhbmdlZCB0aGUgbmFtZSBsYX
N0IHRpbWUgSSBkaWQgYSB0ZXh0IHNlYXJjaCBpbiBhbGwgZmls
ZXMgZm9yIFN0YXRlTW9kZWxSbkQuIFdoZW4gSSBjaGFuZ2UgdG
8gU3RhdGVNaW50IEkgY2FuIHNpbXBseSBzZWFyY2ggZm9yIGFu
eSBmaWxlcyB3aGljaCBpbmNsdWRlIGVpdGhlciBTdGF0ZU1vZG
VsUm5EIG9yIFN0YXR1bSBhbmQgY2hhbmdlIHRob3NlLiIsImNy
ZWF0ZWQiOjE1NDM4ODIwMTM4MzB9LCI4aTJhc0Y1M2pKRlRZTD
d4Ijp7ImRpc2N1c3Npb25JZCI6IlNDbm5wMlRjQVo2ZWRJVEMi
LCJzdWIiOiJnaDoxMDM5NDg5NiIsInRleHQiOiJJIHRoaW5rIE
kgb3JpZ2luYWxseSBvcmRlcmVkIHRoZSBzZWN0aW9ucyB0aGlz
IHdheSBiZWNhdXNlIHRoZSBNYXRoZW1hdGljYSB2ZXJzaW9uIH
dhcyB3cml0dGVuIGZpcnN0LiBJdCBtYWtlcyBzZW5zZSB0aGF0
IHRoZSB2ZXJzaW9uIHRoYXQgaXMgbW9zdCBsaWtlbHkgdG8gYm
UgdXNlZCBzaG91bGQgYmUgcHV0IGZpcnN0LiBTbyBzaG91bGQg
SSBjaGFuZ2UgdGhlIG9yZGVyIHRvIDEuIFdlYiBJbnRlcmZhY2
UsIDIuIFB5dGhvbiwgYW5kIDMuIE1hdGhlbWF0aWNhPyIsImNy
ZWF0ZWQiOjE1NDM4ODIxNjMwMjN9fSwiaGlzdG9yeSI6Wy0xNz
E5MDExNjMyLDExMzIyMjM4OTMsLTU2MDM4NzI1NSwtMzMyNjIx
NzA2LDE2ODI1MzA0OTMsLTE0OTI5MDk1Nyw0MjM2NjAxMSwtMj
U2OTY1ODM3LC0xMjAxOTEwNDUyLDIwOTg3NzU5NjBdfQ==
-->